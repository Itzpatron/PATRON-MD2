const a0_0x22e202=a0_0x4281;function a0_0x4281(_0xde17f,_0x437712){const _0x43eed5=a0_0x43ee();return a0_0x4281=function(_0x4281a8,_0x294614){_0x4281a8=_0x4281a8-0xcd;let _0x2ad3a9=_0x43eed5[_0x4281a8];return _0x2ad3a9;},a0_0x4281(_0xde17f,_0x437712);}function a0_0x43ee(){const _0x207e6a=['messages','length','imageMessage','concat','videoMessage','video','now','691734lbNulR','size','280lZNXPc','2-digit','\x0a\x0a_Error:\x20Could\x20not\x20recover\x20media\x20content._\x0a*Reason:*\x20','Unknown\x20content','498398SAOqxC','replace','mimetype','ANTI_DEL_PATH','stickerMessage','sticker','8DqZzDf','remoteJid','same','parse','sendMessage','user','baileys','audioMessage','mediaBuffer','stringify','\x0a*Group:*\x20','image','message','participant','key','groupMetadata','status@broadcast','store','\x0a*By:*\x20@','@s.whatsapp.net','filter','split','endsWith','24KhKsMo','toLocaleTimeString','messages.upsert','*üö®\x20Message\x20Deleted*\x0a\x0a*Time:*\x20','@g.us','\x0a\x0a*Text:*\x20','8073ionoiz','get','\x0a*In\x20Group*','\x0a>\x20*¬©·¥ò·¥è·¥°·¥á Ä·¥á·¥Ö\x20 ô è\x20·¥ò·¥Ä·¥õ Ä·¥è…¥\x20T·¥á·¥Ñ úÔº∏\x20üöπ*','Invalid\x20media\x20type','isBuffer','No\x20valid\x20media\x20buffer\x20found\x20after\x20redownload\x20attempt','5yiJAsR','../data','includes','keys','documentMessage','loadMessage','conversation','*üö®\x20Message\x20Deleted\x20in\x20Group*\x0a\x0a*Time:*\x20','delete','set','extendedTextMessage','238298SRNkhh','update','audio','7163651NyCQJG','7560uKMIOj','956646eFZNzY','51786oTwvkU'];a0_0x43ee=function(){return _0x207e6a;};return a0_0x43ee();}(function(_0x412958,_0x27bdd6){const _0x758bf=a0_0x4281,_0x1eadfb=_0x412958();while(!![]){try{const _0x153122=-parseInt(_0x758bf(0xf6))/0x1+parseInt(_0x758bf(0x10a))/0x2+-parseInt(_0x758bf(0xfb))/0x3*(-parseInt(_0x758bf(0x110))/0x4)+parseInt(_0x758bf(0xeb))/0x5*(parseInt(_0x758bf(0x104))/0x6)+parseInt(_0x758bf(0xfc))/0x7*(parseInt(_0x758bf(0x106))/0x8)+-parseInt(_0x758bf(0xe4))/0x9*(-parseInt(_0x758bf(0xfa))/0xa)+parseInt(_0x758bf(0xf9))/0xb*(-parseInt(_0x758bf(0xde))/0xc);if(_0x153122===_0x27bdd6)break;else _0x1eadfb['push'](_0x1eadfb['shift']());}catch(_0x5cde50){_0x1eadfb['push'](_0x1eadfb['shift']());}}}(a0_0x43ee,0x614c6));const {getMessage}=require(a0_0x22e202(0xec)),{isJidGroup,downloadContentFromMessage}=require(a0_0x22e202(0xcd)),{getAnti}=require('../data/antidel'),config=require('../config'),ANTI_DEL_PATH=process['env'][a0_0x22e202(0x10d)]||'log',messageCache=new Map(),MAX_CACHE_SIZE=0x3e8,cacheMessage=async(_0x261a37,_0x2e3d3f,_0x3588a0)=>{const _0xe05789=a0_0x22e202,_0xc1fe5=_0x261a37+':'+_0x2e3d3f,_0x13df31=JSON[_0xe05789(0x113)](JSON[_0xe05789(0xd0)](_0x3588a0)),_0x2ef01b=_0x3588a0[_0xe05789(0xd3)]&&Object[_0xe05789(0xee)](_0x3588a0[_0xe05789(0xd3)])[0x0];if([_0xe05789(0xff),'videoMessage',_0xe05789(0xef),_0xe05789(0xce),_0xe05789(0x10e)]['includes'](_0x2ef01b))try{const _0x5e447f=await downloadContentFromMessage(_0x3588a0[_0xe05789(0xd3)][_0x2ef01b],_0x2ef01b[_0xe05789(0x10b)]('Message',''));let _0x50b71c=Buffer['from']([]);for await(const _0x17fd64 of _0x5e447f)_0x50b71c=Buffer[_0xe05789(0x100)]([_0x50b71c,_0x17fd64]);if(_0x50b71c[_0xe05789(0xfe)]>0x0)_0x13df31['message'][_0x2ef01b][_0xe05789(0xcf)]=_0x50b71c;else return;}catch{return;}messageCache[_0xe05789(0xf4)](_0xc1fe5,{'message':_0x13df31,'timestamp':Date[_0xe05789(0x103)]()});if(messageCache[_0xe05789(0x105)]>MAX_CACHE_SIZE){const _0x609cb=[...messageCache[_0xe05789(0xee)]()][0x0];messageCache[_0xe05789(0xf3)](_0x609cb);}},getFromCache=(_0x5f047d,_0xbb47a0)=>{const _0x38d5df=a0_0x22e202,_0x3f3fda=_0x5f047d+':'+_0xbb47a0,_0x304c22=messageCache[_0x38d5df(0xe5)](_0x3f3fda);return _0x304c22?_0x304c22[_0x38d5df(0xd3)]:null;},redownloadMediaBuffer=async(_0x3423c4,_0x25c662)=>{const _0x4c996f=a0_0x22e202;try{const _0x4226dd=Object[_0x4c996f(0xee)](_0x25c662)[0x0];if(!['imageMessage',_0x4c996f(0x101),_0x4c996f(0xef),_0x4c996f(0xce),_0x4c996f(0x10e)]['includes'](_0x4226dd))return null;const _0x25a9fd=await downloadContentFromMessage(_0x25c662[_0x4226dd],_0x4226dd[_0x4c996f(0x10b)]('Message',''));let _0x6631fa=Buffer['from']([]);for await(const _0x50e27f of _0x25a9fd)_0x6631fa=Buffer[_0x4c996f(0x100)]([_0x6631fa,_0x50e27f]);return _0x6631fa['length']>0x0?(_0x25c662[_0x4226dd][_0x4c996f(0xcf)]=_0x6631fa,_0x25c662):null;}catch{return null;}},DeletedText=async(_0x571533,_0x3b7cdb,_0x37d0f7,_0x37cf1b,_0x19de54,_0x38862c)=>{const _0x53b80c=a0_0x22e202,_0x1396ee=_0x3b7cdb[_0x53b80c(0xd3)]?.[_0x53b80c(0xf1)]||_0x3b7cdb[_0x53b80c(0xd3)]?.[_0x53b80c(0xf5)]?.['text']||_0x53b80c(0x109);_0x37cf1b+=_0x53b80c(0xe3)+_0x1396ee,await _0x571533[_0x53b80c(0x114)](_0x37d0f7,{'text':_0x37cf1b,'contextInfo':{'mentionedJid':_0x19de54?[_0x38862c[_0x53b80c(0xd5)][_0x53b80c(0xd4)],_0x3b7cdb[_0x53b80c(0xd5)][_0x53b80c(0xd4)]]:[_0x38862c[_0x53b80c(0xd5)][_0x53b80c(0x111)]]}},{'quoted':_0x3b7cdb});},DeletedMedia=async(_0x111234,_0x423b50,_0x4709e1,_0x10d85c)=>{const _0x427edc=a0_0x22e202;try{const _0x210402=JSON['parse'](JSON['stringify'](_0x423b50[_0x427edc(0xd3)])),_0xcc4b1a=Object[_0x427edc(0xee)](_0x210402)[0x0];if(!_0x210402[_0xcc4b1a])throw new Error('Invalid\x20message\x20type');let _0x4d8f9a=_0x210402[_0xcc4b1a]['mediaBuffer'];if(!_0x4d8f9a||!Buffer[_0x427edc(0xe9)](_0x4d8f9a)){const _0x52de62=await redownloadMediaBuffer(_0x111234,_0x210402);if(!_0x52de62)throw new Error(_0x427edc(0xea));_0x4d8f9a=_0x52de62[_0xcc4b1a][_0x427edc(0xcf)];}const _0x40d003={'imageMessage':'image','videoMessage':_0x427edc(0x102),'documentMessage':'document','audioMessage':_0x427edc(0xf8),'stickerMessage':_0x427edc(0x10f)}[_0xcc4b1a];if(!_0x40d003)throw new Error(_0x427edc(0xe8));await _0x111234['sendMessage'](_0x4709e1,{[_0x40d003]:_0x4d8f9a,'caption':['image','video']['includes'](_0x40d003)?_0x10d85c:undefined,'mimetype':_0x210402[_0xcc4b1a][_0x427edc(0x10c)]},{'quoted':_0x423b50}),![_0x427edc(0xd2),'video'][_0x427edc(0xed)](_0x40d003)&&await _0x111234[_0x427edc(0x114)](_0x4709e1,{'text':'*üö®\x20Delete\x20Detected!*\x0a\x0a'+_0x10d85c,'contextInfo':{'mentionedJid':[_0x423b50[_0x427edc(0xd5)]['participant']||_0x423b50['key'][_0x427edc(0x111)]][_0x427edc(0xdb)](Boolean)}},{'quoted':_0x423b50});}catch(_0x4c1772){await _0x111234[_0x427edc(0x114)](_0x4709e1,{'text':'*üö®\x20Delete\x20Detected!*\x0a\x0a'+_0x10d85c+_0x427edc(0x108)+_0x4c1772[_0x427edc(0xd3)]+'\x0a\x0a>\x20*¬©·¥ò·¥è·¥°·¥á Ä·¥á·¥Ö\x20 ô è\x20·¥ò·¥Ä·¥õ Ä·¥è…¥\x20T·¥á·¥Ñ úÔº∏\x20üöπ*','contextInfo':{'mentionedJid':[_0x423b50['key'][_0x427edc(0xd4)]||_0x423b50[_0x427edc(0xd5)][_0x427edc(0x111)]][_0x427edc(0xdb)](Boolean)}},{'quoted':_0x423b50});}},AntiDelete=async(_0x221197,_0x4417dc)=>{const _0x28a2d1=a0_0x22e202;_0x221197['ev']['on'](_0x28a2d1(0xe0),async({messages:_0x203481})=>{const _0xd8db8a=_0x28a2d1;for(const _0x4875a6 of _0x203481){_0x4875a6[_0xd8db8a(0xd5)]&&_0x4875a6[_0xd8db8a(0xd3)]&&await cacheMessage(_0x4875a6[_0xd8db8a(0xd5)][_0xd8db8a(0x111)],_0x4875a6['key']['id'],_0x4875a6);}});for(const _0x2560bb of _0x4417dc){try{if(_0x2560bb['key'][_0x28a2d1(0x111)]===_0x28a2d1(0xd7))continue;const _0x1b24fb=_0x2560bb[_0x28a2d1(0xf7)]['message']===null||_0x2560bb[_0x28a2d1(0xf7)]['messageStubType']===0x1;if(!_0x1b24fb)continue;const _0xdae338=_0x2560bb['key'][_0x28a2d1(0x111)][_0x28a2d1(0xdd)](_0x28a2d1(0xe2)),_0x146c7d=await getAnti(_0xdae338?'gc':'dm');if(!_0x146c7d)continue;const _0x26b36f=new Date()[_0x28a2d1(0xdf)]('en-GB',{'timeZone':'Africa/Lagos','hour':_0x28a2d1(0x107),'minute':_0x28a2d1(0x107),'second':_0x28a2d1(0x107)});let _0x271f03='';if(_0xdae338)try{const _0x3ca696=await _0x221197[_0x28a2d1(0xd6)](_0x2560bb[_0x28a2d1(0xd5)][_0x28a2d1(0x111)]),_0x595cc2=_0x3ca696['subject'],_0x38d069=_0x2560bb['key']['participant']?.[_0x28a2d1(0xdc)]('@')[0x0]||'unknown';_0x271f03=_0x28a2d1(0xf2)+_0x26b36f+_0x28a2d1(0xd1)+_0x595cc2+'\x0a*Deleted\x20by:*\x20@'+_0x38d069+'\x0a>\x20*¬©·¥ò·¥è·¥°·¥á Ä·¥á·¥Ö\x20 ô è\x20·¥ò·¥Ä·¥õ Ä·¥è…¥\x20T·¥á·¥Ñ úÔº∏\x20üöπ*';}catch{_0x271f03=_0x28a2d1(0xe1)+_0x26b36f+_0x28a2d1(0xe6);}else{const _0x69bd73=_0x2560bb[_0x28a2d1(0xd5)][_0x28a2d1(0x111)]?.[_0x28a2d1(0xdc)]('@')[0x0]||'unknown';_0x271f03='*üö®\x20Message\x20Deleted\x20in\x20DM*\x0a\x0a*Time:*\x20'+_0x26b36f+_0x28a2d1(0xd9)+_0x69bd73+_0x28a2d1(0xe7);}let _0x4027a9=getFromCache(_0x2560bb[_0x28a2d1(0xd5)][_0x28a2d1(0x111)],_0x2560bb[_0x28a2d1(0xd5)]['id']);if(!_0x4027a9&&_0x221197[_0x28a2d1(0xd8)])try{_0x4027a9=await _0x221197[_0x28a2d1(0xd8)][_0x28a2d1(0xf0)](_0x2560bb['key']['remoteJid'],_0x2560bb['key']['id']);}catch{}if(!_0x4027a9)_0x4027a9=await getMessage(_0x2560bb[_0x28a2d1(0xd5)]['remoteJid'],_0x2560bb['key']['id']);!_0x4027a9&&_0x221197[_0x28a2d1(0xfd)]?.[_0x2560bb[_0x28a2d1(0xd5)][_0x28a2d1(0x111)]]&&(_0x4027a9=_0x221197['messages'][_0x2560bb[_0x28a2d1(0xd5)][_0x28a2d1(0x111)]][_0x28a2d1(0xe5)](_0x2560bb[_0x28a2d1(0xd5)]['id']));if(!_0x4027a9)continue;const _0x555420=_0x221197[_0x28a2d1(0x115)]['id'][_0x28a2d1(0xdc)](':')[0x0]+_0x28a2d1(0xda),_0x5b351e=ANTI_DEL_PATH===_0x28a2d1(0x112)?_0x2560bb[_0x28a2d1(0xd5)][_0x28a2d1(0x111)]:_0x555420;_0x4027a9[_0x28a2d1(0xd3)]?.[_0x28a2d1(0xf1)]||_0x4027a9[_0x28a2d1(0xd3)]?.['extendedTextMessage']?await DeletedText(_0x221197,_0x4027a9,_0x5b351e,_0x271f03,_0xdae338,_0x2560bb):await DeletedMedia(_0x221197,_0x4027a9,_0x5b351e,_0x271f03);}catch{}}};module['exports']={'DeletedText':DeletedText,'DeletedMedia':DeletedMedia,'AntiDelete':AntiDelete};